import { Meta, Story, Canvas, ArgsTable, Description, Source } from "@storybook/addon-docs/blocks";
import getParameters from "./getStorySetup.js";
import { sanitize } from "dompurify";
import "../element.js";
import "../extend.js";
import { MDXEmbedProvider } from "mdx-embed";
import dedent from "ts-dedent";

export const Template = ({ href, content }) => `<nl-backlink href="${href}">${sanitize(content)}</nl-backlink>`;

<Meta
  title="Components"
  argTypes={{
    href: {
      description: "Set the href attribute of the backlink",
      control: "text",
    },
    content: {
      description: "Set the content of the badge, normally a string",
      control: "text",
    },
  }}
  parameters={getParameters(Template)}
/>

# Backlink

<Canvas>
  <Story name="Backlink" args={{ href: "#", content: "Back" }}>
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Backlink" />

## Code

The component is available as a Web Component. To use it you can play around with the options in the examples above and copy the code from the example.
Without the JavaScript logic, a component is also available as a HTML-only template with classnames that correspond with the Design System theme or as an HTML anchor extention

### HTML

<Canvas>
  <a class="nl-backlink">
    <span class="nl-backlink__icon">‚Üê</span>
    <span class="nl-backlink__text">HTML only backlink</span>
  </a>
</Canvas>

### HTML extended

To use the component as a component extention, make sure the component is defined by including the components `extend.js` file

<Canvas>
  <a is="nl-html-backlink" href="#">
    Back
  </a>
</Canvas>

### Web Component

To use the component as a web component, make sure the component is defined by including the components `element.js` file

<Canvas>
  <nl-backlink href="#">
    <strong>Back</strong> Link
  </nl-backlink>
</Canvas>

## Design Tokens

These are the design tokens and their default value. Our Design tokens are CSS variables and can be assigned either in the css `:root` or in a css-selector scope.

<Source
  language="css"
  code={`
--nl-backlink-icon-size: 1.5ch;
--nl-backlink-color: var(--nl-link-color);
`}
/>

## Design Kit

<MDXEmbedProvider>
  <Figma title="Backlink" url="file/BBZBJdbdVnvHwhcBoKsczw/components-backlink" />
</MDXEmbedProvider>
